"use strict";(self.webpackChunkemployee_monitoring_frontend=self.webpackChunkemployee_monitoring_frontend||[]).push([[660],{89(e,t,a){a.d(t,{S:()=>i});var s=a(379);const n=[{id:1,title:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 15 \u044f\u043d\u0432\u0430\u0440\u044f",type:"daily",dateRange:{start:new Date("2024-01-15"),end:new Date("2024-01-15")},generatedAt:new Date("2024-01-15T18:00:00"),generatedBy:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",status:"generated",downloadUrl:"#",summary:{totalEmployees:85,averageProductivity:78,totalHoursTracked:425,violationsCount:8,topDepartments:[{department:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",employeeCount:25,averageProductivity:86,totalHours:120},{department:"\u0414\u0438\u0437\u0430\u0439\u043d",employeeCount:15,averageProductivity:85,totalHours:75},{department:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",employeeCount:20,averageProductivity:74,totalHours:100}],trend:"up"},filters:{dateRange:{start:new Date("2024-01-15"),end:new Date("2024-01-15")},includeInactive:!1}},{id:2,title:"\u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 8-14 \u044f\u043d\u0432\u0430\u0440\u044f",type:"weekly",dateRange:{start:new Date("2024-01-08"),end:new Date("2024-01-14")},generatedAt:new Date("2024-01-14T18:00:00"),generatedBy:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",status:"generated",downloadUrl:"#",summary:{totalEmployees:85,averageProductivity:76,totalHoursTracked:2975,violationsCount:45,topDepartments:[{department:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",employeeCount:25,averageProductivity:84,totalHours:840},{department:"\u0414\u0438\u0437\u0430\u0439\u043d",employeeCount:15,averageProductivity:83,totalHours:525},{department:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",employeeCount:10,averageProductivity:91,totalHours:400}],trend:"stable"}},{id:3,title:"\u041c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 \u044f\u043d\u0432\u0430\u0440\u044c",type:"monthly",dateRange:{start:new Date("2024-01-01"),end:new Date("2024-01-31")},generatedAt:new Date("2024-01-31T18:00:00"),generatedBy:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",status:"pending",summary:{totalEmployees:85,averageProductivity:77,totalHoursTracked:12750,violationsCount:180,topDepartments:[{department:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",employeeCount:25,averageProductivity:85,totalHours:3e3},{department:"\u0414\u0438\u0437\u0430\u0439\u043d",employeeCount:15,averageProductivity:84,totalHours:1800},{department:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",employeeCount:20,averageProductivity:73,totalHours:2400}],trend:"up"}},{id:4,title:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043e\u0442\u0434\u0435\u043b\u0443 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438",type:"custom",dateRange:{start:new Date("2024-01-01"),end:new Date("2024-01-15")},generatedAt:new Date("2024-01-16T10:30:00"),generatedBy:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",status:"generated",downloadUrl:"#",summary:{totalEmployees:25,averageProductivity:86,totalHoursTracked:1500,violationsCount:12,topDepartments:[{department:"Frontend",employeeCount:10,averageProductivity:88,totalHours:600},{department:"Backend",employeeCount:8,averageProductivity:85,totalHours:480},{department:"DevOps",employeeCount:7,averageProductivity:84,totalHours:420}],trend:"up"},filters:{departments:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"],dateRange:{start:new Date("2024-01-01"),end:new Date("2024-01-15")}}}],r=[{id:1,name:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442",description:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u043f\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438",type:"daily",defaultFilters:{dateRange:{start:new Date,end:new Date}},schedule:{enabled:!0,frequency:"daily",time:"18:00",recipients:["admin@company.com","managers@company.com"]}},{id:2,name:"\u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442",description:"\u0421\u0432\u043e\u0434\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",type:"weekly",defaultFilters:{dateRange:{start:new Date((new Date).setDate((new Date).getDate()-7)),end:new Date}},schedule:{enabled:!0,frequency:"weekly",time:"18:00",recipients:["admin@company.com"]}},{id:3,name:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f\u043c",description:"\u041e\u0442\u0447\u0435\u0442 \u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f\u0445 \u0438 \u043d\u0438\u0437\u043a\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438",type:"custom",defaultFilters:{dateRange:{start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date},productivityThreshold:60,includeInactive:!0}}],l=()=>({totalEmployees:Math.floor(50*Math.random())+50,averageProductivity:Math.floor(30*Math.random())+60,totalHoursTracked:Math.floor(500*Math.random())+200,violationsCount:Math.floor(20*Math.random()),topDepartments:[{department:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",employeeCount:Math.floor(20*Math.random())+10,averageProductivity:Math.floor(30*Math.random())+65,totalHours:Math.floor(200*Math.random())+100},{department:"\u0414\u0438\u0437\u0430\u0439\u043d",employeeCount:Math.floor(10*Math.random())+5,averageProductivity:Math.floor(30*Math.random())+65,totalHours:Math.floor(150*Math.random())+50},{department:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",employeeCount:Math.floor(15*Math.random())+5,averageProductivity:Math.floor(30*Math.random())+60,totalHours:Math.floor(180*Math.random())+60}],trend:Math.random()>.5?"up":Math.random()>.5?"down":"stable"}),i={getReports:()=>new Promise(e=>{setTimeout(()=>{e([...n])},500)}),getReportById:e=>new Promise(t=>{setTimeout(()=>{const a=n.find(t=>t.id===e);t(a||null)},300)}),getTemplates:()=>new Promise(e=>{setTimeout(()=>{e([...r])},400)}),createReport:e=>new Promise(t=>{setTimeout(()=>{const a={id:n.length+1,title:e.title,type:e.type,dateRange:e.filters.dateRange,generatedAt:new Date,generatedBy:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",status:"generated",downloadUrl:"#report-".concat(n.length+1),summary:l(),filters:e.filters};n.unshift(a),t(a)},1e3)}),deleteReport:e=>new Promise(t=>{setTimeout(()=>{const a=n.findIndex(t=>t.id===e);-1!==a?(n.splice(a,1),t(!0)):t(!1)},300)}),downloadReport:e=>new Promise((t,a)=>{setTimeout(()=>{const s=n.find(t=>t.id===e);s&&"generated"===s.status?t("/reports/download/".concat(e,"/report.pdf")):a(new Error("Report not available for download"))},500)}),getReportData:e=>new Promise(t=>{setTimeout(()=>{const a=l();e.departments&&e.departments.length>0&&(a.topDepartments=a.topDepartments.filter(t=>e.departments.includes(t.department)),a.totalEmployees=a.topDepartments.reduce((e,t)=>e+t.employeeCount,0)),e.productivityThreshold&&(a.averageProductivity=Math.max(a.averageProductivity,e.productivityThreshold),a.topDepartments=a.topDepartments.map(t=>(0,s.A)((0,s.A)({},t),{},{averageProductivity:Math.max(t.averageProductivity,e.productivityThreshold)}))),t(a)},800)})}},660(e,t,a){a.r(t),a.d(t,{default:()=>d});var s=a(950),n=a(994),r=a(379),l=a(414);const i=e=>{let{templates:t,departments:a,onSubmit:n,onCancel:i,isLoading:o=!1}=e;const[d,c]=(0,s.useState)(1),[m,p]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),[y,v]=(0,s.useState)({title:"",type:"custom",filters:{dateRange:{start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date}},recipients:[]});(0,s.useEffect)(()=>{if(u){const e=t.find(e=>e.id===u);e&&v(t=>(0,r.A)((0,r.A)({},t),{},{type:e.type,filters:(0,r.A)((0,r.A)({},t.filters),e.defaultFilters)}))}},[u,t]);const x=(e,t)=>{v(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t}))},g=(e,t)=>{v(a=>(0,r.A)((0,r.A)({},a),{},{filters:(0,r.A)((0,r.A)({},a.filters),{},{[e]:t})}))},j=(e,t)=>{g("dateRange",(0,r.A)((0,r.A)({},y.filters.dateRange),{},{[e]:new Date(t)}))},f=e=>e.toISOString().split("T")[0];return(0,l.jsxs)("div",{className:"create-report-form",children:[(0,l.jsxs)("div",{className:"form-header",children:[(0,l.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043e\u0442\u0447\u0435\u0442\u0430"}),(0,l.jsxs)("div",{className:"form-steps",children:[(0,l.jsxs)("div",{className:"step ".concat(1===d?"active":""),children:[(0,l.jsx)("div",{className:"step-number",children:"1"}),(0,l.jsx)("div",{className:"step-label",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,l.jsx)("div",{className:"step-divider"}),(0,l.jsxs)("div",{className:"step ".concat(2===d?"active":""),children:[(0,l.jsx)("div",{className:"step-number",children:"2"}),(0,l.jsx)("div",{className:"step-label",children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"})]})]})]}),(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),y.title.trim()?y.filters.dateRange.start>y.filters.dateRange.end?alert("\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u0437\u0436\u0435 \u0434\u0430\u0442\u044b \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"):n(y):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430")},children:1===d?(0,l.jsxs)("div",{className:"form-step",children:[(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 *"}),(0,l.jsx)("input",{type:"text",value:y.title,onChange:e=>x("title",e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0437\u0430 15 \u044f\u043d\u0432\u0430\u0440\u044f",className:"form-input",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u0422\u0438\u043f \u043e\u0442\u0447\u0435\u0442\u0430"}),(0,l.jsxs)("div",{className:"type-options",children:[(0,l.jsx)("button",{type:"button",className:"type-option ".concat("daily"===y.type?"active":""),onClick:()=>x("type","daily"),children:"\ud83d\udcc5 \u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"}),(0,l.jsx)("button",{type:"button",className:"type-option ".concat("weekly"===y.type?"active":""),onClick:()=>x("type","weekly"),children:"\ud83d\udcc6 \u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439"}),(0,l.jsx)("button",{type:"button",className:"type-option ".concat("monthly"===y.type?"active":""),onClick:()=>x("type","monthly"),children:"\ud83d\uddd3\ufe0f \u041c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"}),(0,l.jsx)("button",{type:"button",className:"type-option ".concat("custom"===y.type?"active":""),onClick:()=>x("type","custom"),children:"\ud83d\udcca \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439"})]})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsxs)("label",{className:"checkbox-label",children:[(0,l.jsx)("input",{type:"checkbox",checked:m,onChange:e=>p(e.target.checked),className:"checkbox-input"}),(0,l.jsx)("span",{className:"checkbox-custom"}),"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d"]})}),m&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d"}),(0,l.jsx)("div",{className:"template-options",children:t.map(e=>{var t;return(0,l.jsxs)("div",{className:"template-option ".concat(u===e.id?"active":""),onClick:()=>h(e.id),children:[(0,l.jsx)("div",{className:"template-icon",children:"daily"===e.type?"\ud83d\udcc5":"weekly"===e.type?"\ud83d\udcc6":"monthly"===e.type?"\ud83d\uddd3\ufe0f":"\ud83d\udcca"}),(0,l.jsxs)("div",{className:"template-info",children:[(0,l.jsx)("h4",{children:e.name}),(0,l.jsx)("p",{children:e.description}),(null===(t=e.schedule)||void 0===t?void 0:t.enabled)&&(0,l.jsx)("span",{className:"schedule-badge",children:"\ud83d\udd04 \u041f\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e"})]})]},e.id)})})]})]}),(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)("button",{type:"button",className:"cancel-button",onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{type:"button",className:"next-button",onClick:()=>c(2),disabled:!y.title.trim(),children:"\u0414\u0430\u043b\u0435\u0435 \u2192"})]})]}):(0,l.jsxs)("div",{className:"form-step",children:[(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u041f\u0435\u0440\u0438\u043e\u0434 \u043e\u0442\u0447\u0435\u0442\u0430 *"}),(0,l.jsxs)("div",{className:"date-range-inputs",children:[(0,l.jsxs)("div",{className:"date-input-group",children:[(0,l.jsx)("input",{type:"date",value:f(y.filters.dateRange.start),onChange:e=>j("start",e.target.value),className:"form-input",required:!0}),(0,l.jsx)("span",{className:"date-label",children:"\u0441"})]}),(0,l.jsxs)("div",{className:"date-input-group",children:[(0,l.jsx)("input",{type:"date",value:f(y.filters.dateRange.end),onChange:e=>j("end",e.target.value),className:"form-input",required:!0}),(0,l.jsx)("span",{className:"date-label",children:"\u043f\u043e"})]})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u041e\u0442\u0434\u0435\u043b\u044b (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,l.jsx)("div",{className:"department-options",children:a.map(e=>{var t;return(0,l.jsx)("button",{type:"button",className:"department-option ".concat(null!==(t=y.filters.departments)&&void 0!==t&&t.includes(e)?"active":""),onClick:()=>(e=>{const t=y.filters.departments||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];g("departments",a)})(e),children:e},e)})})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,l.jsxs)("div",{className:"range-input-group",children:[(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:y.filters.productivityThreshold||0,onChange:e=>g("productivityThreshold",Number(e.target.value)),className:"range-slider"}),(0,l.jsxs)("div",{className:"range-value",children:[y.filters.productivityThreshold||0,"%"]})]}),(0,l.jsx)("div",{className:"range-hint",children:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u044b\u0448\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsxs)("label",{className:"checkbox-label",children:[(0,l.jsx)("input",{type:"checkbox",checked:y.filters.includeInactive||!1,onChange:e=>g("includeInactive",e.target.checked),className:"checkbox-input"}),(0,l.jsx)("span",{className:"checkbox-custom"}),"\u0412\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"]})})]}),(0,l.jsxs)("div",{className:"form-section",children:[(0,l.jsx)("h3",{children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438 \u043e\u0442\u0447\u0435\u0442\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,l.jsxs)("div",{className:"recipients-list",children:[(y.recipients||[]).map((e,t)=>(0,l.jsxs)("div",{className:"recipient-item",children:[(0,l.jsx)("input",{type:"email",value:e,onChange:e=>((e,t)=>{const a=[...y.recipients||[]];a[e]=t,x("recipients",a)})(t,e.target.value),placeholder:"email@example.com",className:"form-input"}),(0,l.jsx)("button",{type:"button",className:"remove-recipient",onClick:()=>(e=>{const t=[...y.recipients||[]];t.splice(e,1),x("recipients",t)})(t),children:"\xd7"})]},t)),(0,l.jsx)("button",{type:"button",className:"add-recipient",onClick:()=>{x("recipients",[...y.recipients||[],""])},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f"})]})]}),(0,l.jsxs)("div",{className:"form-summary",children:[(0,l.jsx)("h4",{children:"\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432"}),(0,l.jsxs)("div",{className:"summary-items",children:[(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{className:"summary-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),(0,l.jsx)("span",{className:"summary-value",children:y.title||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{className:"summary-label",children:"\u0422\u0438\u043f:"}),(0,l.jsx)("span",{className:"summary-value",children:"daily"===y.type?"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439":"weekly"===y.type?"\u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439":"monthly"===y.type?"\u041c\u0435\u0441\u044f\u0447\u043d\u044b\u0439":"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439"})]}),(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{className:"summary-label",children:"\u041f\u0435\u0440\u0438\u043e\u0434:"}),(0,l.jsxs)("span",{className:"summary-value",children:[f(y.filters.dateRange.start)," - ",f(y.filters.dateRange.end)]})]}),y.filters.departments&&y.filters.departments.length>0&&(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{className:"summary-label",children:"\u041e\u0442\u0434\u0435\u043b\u044b:"}),(0,l.jsx)("span",{className:"summary-value",children:y.filters.departments.join(", ")})]})]})]}),(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)("button",{type:"button",className:"back-button",onClick:()=>c(1),children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,l.jsxs)("div",{className:"right-actions",children:[(0,l.jsx)("button",{type:"button",className:"cancel-button",onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{type:"submit",className:"submit-button",disabled:o,children:o?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442"})]})]})]})})]})};var o=a(89);const d=()=>{const e=(0,n.Zp)(),[t,a]=(0,s.useState)(!1),[r,d]=(0,s.useState)([]),[c]=(0,s.useState)(["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430","\u0414\u0438\u0437\u0430\u0439\u043d","\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433","\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"]);(0,s.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await o.S.getTemplates();d(e)}catch(e){console.error("Error loading templates:",e)}},p=()=>{e("/reports")};return(0,l.jsxs)("div",{className:"create-report-page",children:[(0,l.jsxs)("div",{className:"page-header",children:[(0,l.jsx)("button",{className:"back-button",onClick:p,children:"\u2190 \u041d\u0430\u0437\u0430\u0434 \u043a \u043e\u0442\u0447\u0435\u0442\u0430\u043c"}),(0,l.jsx)("h1",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430"})]}),(0,l.jsx)("div",{className:"form-container",children:(0,l.jsx)(i,{templates:r,departments:c,onSubmit:async t=>{a(!0);try{const a=await o.S.createReport(t);e("/reports/".concat(a.id))}catch(s){console.error("Error creating report:",s),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043e\u0442\u0447\u0435\u0442\u0430")}finally{a(!1)}},onCancel:p,isLoading:t})}),(0,l.jsxs)("div",{className:"creation-tips",children:[(0,l.jsx)("h3",{children:"\ud83d\udca1 \u0421\u043e\u0432\u0435\u0442\u044b \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),(0,l.jsx)("li",{children:"\u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043b\u0435\u0433\u043a\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),(0,l.jsx)("li",{children:"\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430"}),(0,l.jsx)("li",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0434\u043b\u044f \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u043a\u0438 \u043d\u0430 \u0432\u0430\u0436\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,l.jsx)("li",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"})]})]})]})}}}]);